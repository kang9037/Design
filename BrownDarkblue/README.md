# 🚀 스터디케어 AI 로드맵 생성 시스템

OpenAI GPT-4를 활용한 학생 맞춤형 3개년 입시전략 로드맵 자동 생성 시스템

---

## 📋 목차
1. [시스템 개요](#시스템-개요)
2. [설치 방법](#설치-방법)
3. [실행 방법](#실행-방법)
4. [보안 주의사항](#보안-주의사항)
5. [사용 방법](#사용-방법)
6. [문제 해결](#문제-해결)

---

## 🎯 시스템 개요

### 주요 기능
- ✅ **AI 기반 학생 분석**: GPT-5 Nano가 학생의 성적, 활동, 목표를 종합 분석
- ✅ **맞춤형 로드맵 생성**: 학년별, 학기별 구체적인 실행 계획 제시
- ✅ **대학 추천**: 안정/적정/상향 지원 대학 제안
- ✅ **보안 강화**: API 키는 서버에만 저장, 클라이언트에 노출 안 됨
- ✅ **초저비용**: GPT-5 Nano로 기존 대비 90% 이상 비용 절감

### 기술 스택
- **Frontend**: HTML, CSS, JavaScript
- **Backend**: Node.js, Express
- **AI**: OpenAI GPT-5 Nano (2025년 8월 최신 모델)
- **보안**: dotenv (환경변수 관리)
- **특징**: 400K 토큰 컨텍스트, 초고속 응답

---

## 🔧 설치 방법

### 1️⃣ 사전 준비
Node.js가 설치되어 있어야 합니다. (버전 14 이상 권장)

```bash
# Node.js 버전 확인
node --version
npm --version
```

Node.js가 없다면 [공식 사이트](https://nodejs.org/)에서 다운로드하세요.

### 2️⃣ 의존성 설치
BrownDarkblue 폴더에서 다음 명령어를 실행하세요:

```bash
cd BrownDarkblue
npm install
```

이 명령어는 다음 패키지들을 자동으로 설치합니다:
- `express` - 웹 서버
- `cors` - CORS 처리
- `dotenv` - 환경변수 관리
- `openai` - OpenAI API 클라이언트

---

## ⚙️ 환경 설정

### API 키 설정
`.env` 파일을 생성하고 OpenAI API 키를 설정하세요.

```env
OPENAI_API_KEY=your_openai_api_key_here
PORT=3000
NODE_ENV=development
```

⚠️ **중요**: 이 파일은 `.gitignore`에 포함되어 있어 Git에 업로드되지 않습니다!

---

## 🚀 실행 방법

### 1️⃣ 백엔드 서버 시작

새 터미널을 열고 다음 명령어를 실행하세요:

```bash
cd BrownDarkblue
npm start
```

또는 개발 모드 (자동 재시작):

```bash
npm run dev
```

서버가 성공적으로 시작되면 다음 메시지가 표시됩니다:

```
╔════════════════════════════════════════════════════╗
║   🚀 스터디케어 AI 로드맵 서버 시작됨              ║
╠════════════════════════════════════════════════════╣
║   📍 서버 주소: http://localhost:3000            ║
║   🤖 OpenAI API: ✅ 연결됨                       ║
║   🔒 보안: API 키는 서버에서만 사용됩니다          ║
╚════════════════════════════════════════════════════╝
```

### 2️⃣ 웹 페이지 열기

서버가 실행 중인 상태에서 브라우저를 열고 다음 중 하나로 접속:

1. **roadmap.html 직접 열기**:
   - `BrownDarkblue/roadmap.html` 파일을 브라우저로 드래그앤드롭

2. **또는 서버를 통해 접속**:
   - `http://localhost:3000/roadmap.html`

### 3️⃣ 사용하기

1. **Step 1**: 학생 기본 정보 입력 (이름, 학년, 학교 등)
2. **Step 2**: 성적 정보 입력 (과목별 등급)
3. **Step 3**: 활동 및 목표 입력 (동아리, 수상, 희망 대학 등)
4. **버튼 클릭**: "🔍 AI 맞춤형 로드맵 생성하기"
5. **결과 확인**: AI가 분석한 맞춤형 로드맵을 확인!

---

## 🔒 보안 주의사항

### ⚠️ 절대 하지 말아야 할 것
- ❌ `.env` 파일을 GitHub에 업로드하지 마세요
- ❌ API 키를 다른 사람과 공유하지 마세요
- ❌ API 키를 HTML/JavaScript 파일에 직접 작성하지 마세요

### ✅ 안전한 사용법
- ✅ `.env` 파일은 로컬에만 보관
- ✅ `.gitignore`에 `.env`가 포함되어 있는지 확인
- ✅ 서버(server.js)를 통해서만 API 호출

---

## 🛠️ 문제 해결

### 문제 1: "서버가 실행되지 않습니다"

**증상**: 웹 페이지에서 "AI 분석 중 오류가 발생했습니다" 메시지

**해결**:
```bash
# 1. 터미널에서 서버가 실행 중인지 확인
cd BrownDarkblue
npm start

# 2. 브라우저에서 http://localhost:3000/api/health 접속
# 다음과 같은 응답이 나와야 정상입니다:
# {"status":"OK","timestamp":"...","openai":true}
```

### 문제 2: "OPENAI_API_KEY 오류"

**증상**: 서버 로그에 API 키 관련 에러

**해결**:
```bash
# .env 파일이 존재하는지 확인
ls -la .env

# .env 파일 내용 확인 (민감정보이므로 조심!)
cat .env
```

### 문제 3: "npm install 실패"

**증상**: 패키지 설치 중 에러

**해결**:
```bash
# npm 캐시 정리 후 재시도
npm cache clean --force
npm install
```

### 문제 4: "CORS 에러"

**증상**: 브라우저 콘솔에 CORS 관련 에러

**해결**:
- 서버를 통해 페이지에 접속하세요: `http://localhost:3000/roadmap.html`
- 또는 roadmap.html을 직접 열되, 서버가 실행 중인지 확인하세요

---

## 💰 API 비용 정보 (2025년 기준)

OpenAI GPT-5 Nano 모델 사용 비용:

### 📊 토큰당 비용
- **입력 토큰**: $0.05 / 1백만 토큰 = **₩71 / 1백만 토큰**
- **출력 토큰**: $0.40 / 1백만 토큰 = **₩572 / 1백만 토큰**
- **환율**: 1 USD = 1,430 KRW (2025년 10월 기준)

### 💡 예상 비용 (학생 1명당)
- **평균 토큰 사용량**: 입력 2,000 토큰 + 출력 1,500 토큰
- **1회 분석 비용**: 약 **₩1.0** (입력 ₩0.14 + 출력 ₩0.86)
- **100명 분석 시**: 약 **₩100** (월 기준)

### 🚀 기존 GPT-4 대비 비용 절감
- GPT-4: 학생 1명당 약 ₩430 (입력 $0.03, 출력 $0.06 × 1,430원)
- GPT-5 Nano: 학생 1명당 약 ₩1
- **절감률**: **99.8%** 🎉

[OpenAI 사용량 대시보드](https://platform.openai.com/usage)에서 실시간 확인 가능합니다.

---

## 📁 파일 구조

```
BrownDarkblue/
├── .env                 # 🔒 API 키 (절대 공유 금지!)
├── .gitignore           # Git 제외 파일 목록
├── package.json         # Node.js 프로젝트 설정
├── server.js            # 백엔드 서버 (Express + OpenAI API)
├── roadmap.html         # 메인 웹 페이지
└── js/
    ├── ai-roadmap.js    # AI API 연동 스크립트
    └── header-common.js # 공통 헤더
```

---

## 🎓 개발자 정보

- **개발 날짜**: 2025
- **사용 기술**: OpenAI GPT-4, Node.js, Express
- **라이선스**: Private (내부 사용 전용)

---

## 📞 문의

문제가 발생하거나 질문이 있으시면:
1. 터미널에 표시되는 에러 메시지를 캡처하세요
2. 브라우저 개발자 도구(F12)의 Console 탭을 확인하세요
3. 위 [문제 해결](#문제-해결) 섹션을 참고하세요

---

## ✨ 팁

- **더 빠른 응답**: 서버 시작 시 `npm run dev` 사용
- **API 비용 절약**: 테스트 시 불필요한 중복 요청 피하기
- **결과 저장**: 생성된 로드맵은 PDF로 저장 가능 (페이지 내 버튼 클릭)

---

**행복한 코딩 되세요! 🚀**
